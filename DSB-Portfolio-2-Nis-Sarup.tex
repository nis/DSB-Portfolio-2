\documentclass[a4wide,10pt]{article}
%\usepackage{a4wide}
\usepackage[applemac,utf8]{inputenc}
%\usepackage[danish]{babel}
\usepackage[T1]{fontenc}
\usepackage{pdfsync}
\usepackage{amsmath,amssymb,amsfonts} 
\usepackage[pdftex]{graphicx}
%\usepackage{wrapfig}
%\usepackage{color}
\usepackage[small,bf]{caption}

\begin{document}
\title{DSB Portfolio 2}
\author{Nis Sarup}
\date{\today}
\maketitle

\newpage

	\section{Fourier Transform method} % (fold)
	\label{sec:fourier_transform_method}
		Mathematica functions:
		\begin{eqnarray}
			t &=& 67; \nonumber \\
			m &=& \frac{t-1}{2}; \nonumber \\
			cH &:=& \frac{2\pi 1800}{8000}; \nonumber \\
			cL &:=& \frac{2\pi 800}{8000}; \nonumber \\
			h[0] &:=& \frac{cH-cL}{\pi}; \nonumber \\
			h[n\_] &:=& \frac{Sin[cH \cdot n]}{n\cdot \pi} - \frac{Sin[cL \cdot n]}{n\cdot \pi}; \nonumber \\
		\end{eqnarray}
		I get the results h[n] with n ranging from $-m$ to $m$:
		\begin{equation}
			Table[h[i], {i, -m, m, 1}] \nonumber
		\end{equation}
		This gives a large table of values which I copy into the MathLab program (Program 7.1 for example 7.3 in the book) and get the following graph:
		\begin{figure}[h]
			\centering
				\includegraphics[width=9cm]{images/opgave_1.png}
			\caption{Fourier Transform method: Magnitude response and Phase.}
			\label{fig:images_opgave_1}
		\end{figure}
	% section fourier_transform_method (end)
	
	\newpage
	
	\section{Window Method} % (fold)
	\label{sec:window_method}
		\subsection{Rectangular Window} % (fold)
		\label{sub:rectangular_window}
			Mathematica function for the rectangular window:
			\begin{equation}
				rectangularWindow[n\_] := 1; \nonumber
			\end{equation}
			Not overly exciting. 
			For each value in the set from Section 1 I multiply it with the corresponding value from the window function. Here is a plot of the "new" graphs. 
			\begin{figure}[h]
				\centering
					\includegraphics[width=9cm]{images/opgave_2_a.png}
				\caption{Rectangular window: Magnitude response and Phase.}
				\label{fig:images_opgave_2_a}
			\end{figure}
			Not surprisingly both Figure 1 and Figure 2 looks quite similar.
		% subsection rectangular_window (end)
		
\newpage		
		\subsection{Hamming Window} % (fold)
		\label{sub:hamming_window}
			Mathematica function for the Hamming Window:
			\begin{equation}
				hammingWindow[n\_] := 0.54 + 0.46 Cos[\frac{n\cdot \pi}{m}]; \nonumber
			\end{equation}
			Same procedure as with the Rectangular window. As can be seen there are some changes on this graph.
			\begin{figure}[h]
				\centering
					\includegraphics[width=9cm]{images/opgave_2_b.png}
				\caption{Hamming window: Magnitude response and Phase.}
				\label{fig:images_opgave_2_b}
			\end{figure}
			
		% subsection hamming_window (end)
		
\newpage
		\subsection{Kaiser Window} % (fold)
		\label{sub:kaiser_window}
		Mathlab has a build-in Kaiser-function, so I use that to generate the Kaiser window-values:
		\begin{eqnarray}
			beta &=& 0.5842*(50-21)^{0.4}+0.07886*(50-21); \nonumber \\
			wkaiser &=& kaiser(67, beta); \nonumber \\
		\end{eqnarray}
		THat particular equation for the Kaiser window is chosen because the specification calls for a stopband attenuation at 50dB.
		Again the values are multiplied and graphed.
		\begin{figure}[h]
			\centering
				\includegraphics[width=9cm]{images/opgave_2_c.png}
			\caption{Kaiser window: Magnitude response and Phase.}
			\label{fig:images_opgave_2_c}
		\end{figure}
		
		% subsection kaiser_window (end)
	% section window_method (end)
	
\newpage
	\section{Frequency Sampling Method} % (fold)
	\label{sec:frequency_sampling_method}
		\subsection{Setup} % (fold)
		\label{sub:setup}
			I change the low cut frequency to 1000Hz and the upper cut frequency to 3000Hz. Here is the relevant mathematica functions ($cL$ and $cH$ is calculated the same way as in Section 1.):
			\begin{eqnarray}
				M &=& 12; \nonumber \\
				H[k\_] &:=& If[cL < \frac{2 \pi k}{2 M +1} < cH, 1, 0];  \nonumber \\
				h[n\_] &:=& \frac{1}{2M +1} (H[0] + 2 \sum\limits_{k=1}^M (H[k] Cos[\frac{2\pi k(n-M)}{2M+1}])); \nonumber \\
			\end{eqnarray}
			The bandpass frequency response vector is then:
			\begin{equation}
				\{0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0\} \nonumber \\
			\end{equation}
			And with a smooth transition:
			\begin{equation}
				\{0, 0, 0, 0.5, 1, 1, 1, 1, 1, 1, 0.5, 0, 0\} \nonumber \\
			\end{equation}
			Here is the plot for a 25 tap frequency sampling filter:
			\begin{figure}[h]
				\centering
					\includegraphics[width=9cm]{images/opgave_3_a_1.png}
				\caption{Frequency Sampling methos, with smooth transition.}
				\label{fig:images_opgave_3_a_1}
			\end{figure}
		% subsection setup (end)
\newpage
		\subsection{Increasing and decreasing the taps} % (fold)
		\label{sub:increasing_and_decreasing_the_taps}
		Increasing and decreasing the taps on a filter will have an effect. Here is plots of different tap sizes:
		\begin{figure}[h]
			\centering
				\includegraphics[width=9cm]{images/opgave_3_b.png}
			\caption{25, 31 and 67 tap Frequence Sampling filter plots.}
			\label{fig:images_opgave_3_b}
		\end{figure}
		% subsection increasing_and_decreasing_the_taps (end)
		\subsection{Discussion} % (fold)
		\label{sub:discussion}
			The higher tap-number chosen when designing the Frequency Sampling filter, the higher the precision of the filter. The main-lobe follows a straight line better and dips faster at the cut-frequencies.
		% subsection discussion (end)
	% section frequency_sampling_method (end)
\end{document}